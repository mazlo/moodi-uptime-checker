<@ extends "base.html" @>

<@ block header @>
    <h3>Uptime - Configurations</h3>
<@ endblock @>

<@ block content @>

    <div class='w3-row w3-padding-hor-8'>
        <div class='w3-col l1 w3-padding-hor-4 w3-border-bottom'>Status</div>
        <div class='w3-col l2 w3-padding-hor-4 w3-border-bottom'>Name</div>
        <div class='w3-col l2 w3-padding-hor-4 w3-border-bottom'>Last Response</div>
        <div class='w3-col l2 w3-padding-hor-4 w3-border-bottom'>Duration</div>
        <div class='w3-col l2 w3-padding-hor-4 w3-border-bottom'>Next Check</div>
    </div>
    <@ for config in configs @>
    <div class='w3-row w3-padding-hor-8'>
        <div class='w3-col l1'><span class='ion <@ if config.active @>ion-ios-stopwatch-outline w3-text-green<@ else @>ion-android-hand w3-text-red<@ endif @>'>&nbsp;</span></div>
        <div class='w3-col l2'><h4 class='w3-margin-0'><a href='/uptime-checks/{{ config._id }}'>{{ config.name }}</a></h4></div>
        <div class='w3-col l2'><@ if config.last_response == 200 @><span class='uc-ion ion-ios-checkmark-outline w3-text-green'></span>{{ config.last_response }}<@ elseif config.last_response == undefined @>-<@ else @>{{ config.last_response }}<@ endif @></div>
        <div class='w3-col l2'><@ if config.last_duration @>{{ config.last_duration }}ms<@ else @>-<@ endif @></div>
        <@ set next_check_in = next_check( config.next_check ) @>
        <div class='w3-col l2'><@if config.active and next_check_in > 0 @>in {{ next_check_in | round(0, "ceiling") }}s<@ else @>not scheduled<@ endif @></div>
    </div>
    <@ endfor @>

    <div class='w3-row w3-padding-hor-24'>
        <a href='/uptime-checks/create'><button class='w3-btn w3-border w3-pale-green w3-small uc-width-small'>Create Check</button></a>
    </div>
<@ endblock @>