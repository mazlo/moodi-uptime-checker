<@ extends "base.html" @>

<@ block header @>
    <h3>Uptime - Configurations</h3>
<@ endblock @>

<@ block content @>

    <div class='w3-row w3-padding-hor-16'>
        <div class='w3-col l1'>Status</div>
        <div class='w3-col l2'>Name</div>
        <div class='w3-col l2'>Last Response</div>
        <div class='w3-col l2'>Duration</div>
        <div class='w3-col l2'>Next Check</div>
    </div>
    <@ for config in configs @>
    <div class='w3-row w3-padding-hor-8'>
        <div class='w3-col l1'><span class='<@ if config.active @>w3-light-green<@ else @>w3-red<@ endif @>'>&nbsp;</span></div>
        <div class='w3-col l2'><h4 class='w3-margin-0'><a href='/uptime-checks/{{ config._id }}'>{{ config.name }}</a></h4></div>
        <div class='w3-col l2'>&nbsp;</div>
        <div class='w3-col l2'>&nbsp;</div>
        <@ set next_check_in = next_check( config.next_check ) @>
        <div class='w3-col l2'><@if config.active and next_check_in > 0 @>in {{ next_check_in }}s<@ else @>not scheduled<@ endif @></div>
    </div>
    <@ endfor @>

    <div class='w3-row w3-padding-hor-24'>
        <a href='/uptime-checks/create'><button class='w3-btn w3-border w3-pale-green w3-small uc-width-small'>Create Check</button></a>
    </div>
<@ endblock @>